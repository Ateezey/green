import{e as f,i as p,t as m}from"./directive-12249aa5.js";import{a as y}from"./lit-element-2a5e401f.js";import{n as c,G as V}from"./gds-element-24e794df.js";import{m as _}from"./lit-localize-87611c26.js";import{w as g}from"./watch-c4961afe.js";class w extends p{constructor(t){if(super(t),t.type!==m.ELEMENT)throw new Error("The `forwardAttributes` directive must be used in element bindings")}render(t){return y}update(t,[e]){var h;const r=t.element,o=(h=t.options)==null?void 0:h.host;Array.from(o.attributes).forEach(n=>{e(n)&&r.setAttribute(n.name.replace("gds-",""),n.value)})}}const G=f(w);var A=Object.defineProperty,E=Object.getOwnPropertyDescriptor,d=(i,t,e,r)=>{for(var o=r>1?void 0:r?E(t,e):t,h=i.length-1,n;h>=0;h--)(n=i[h])&&(o=(r?n(t,e,o):n(o))||o);return r&&o&&A(t,e,o),o},u=(i,t,e)=>{if(!t.has(i))throw TypeError("Cannot "+e)},s=(i,t,e)=>(u(i,t,"read from private field"),e?e.call(i):t.get(i)),b=(i,t,e)=>{if(t.has(i))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(i):t.set(i,e)},v=(i,t,e,r)=>(u(i,t,"write to private field"),r?r.call(i,e):t.set(i,e),e),a;class l extends V{constructor(){super(),b(this,a,void 0),this.required=!1,this.name="";try{v(this,a,this.attachInternals())}catch{v(this,a,{form:this.closest("form"),setFormValue:e=>{this.value=e},setValidity:(e,r)=>{this.invalid=e.customError},validationMessage:"",validity:{badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},willValidate:!0,checkValidity:()=>!0,reportValidity:()=>!0})}}set invalid(t){const e=this.invalid;s(this,a).setValidity({...s(this,a).validity,customError:t,valid:!t},this.validationMessage||_("Validation error"),this._getValidityAnchor()||void 0),this.requestUpdate("invalid",e),s(this,a).checkValidity()}get invalid(){return!s(this,a).validity.valid}get form(){return s(this,a).form}get validity(){return s(this,a).validity}get validationMessage(){return s(this,a).validationMessage}get willValidate(){return s(this,a).willValidate}checkValidity(){if(!this._getValidityAnchor()||!this.validator)return!0;const e=this.invalid,r=this.validator.validate(this)||[{...this.validity,valid:!0},""];return s(this,a).setValidity(r[0],r[1],this._getValidityAnchor()),this.requestUpdate("invalid",e),s(this,a).checkValidity()}reportValidity(){return s(this,a).reportValidity()}__handleValueChange(){s(this,a).setFormValue(this.value),this.checkValidity()}formResetCallback(){this.value=void 0}formAssociatedCallback(t){t.addEventListener("submit",this._handleFormSubmit.bind(this))}_handleFormSubmit(t){this.checkValidity(),this.validity.valid||t.preventDefault()}}a=new WeakMap;l.formAssociated=!0;d([c({attribute:!1})],l.prototype,"validator",2);d([c({type:Boolean})],l.prototype,"required",2);d([c({type:Boolean,reflect:!0,attribute:"aria-invalid",converter:{fromAttribute:Boolean,toAttribute:i=>i==null?void 0:i.toString()}})],l.prototype,"invalid",1);d([c()],l.prototype,"label",2);d([c()],l.prototype,"value",2);d([c({reflect:!0})],l.prototype,"name",2);d([g("value")],l.prototype,"__handleValueChange",1);export{l as G,G as f};
