import{n,G as u}from"./gds-element-54cd6e2a.js";import{m as f}from"./lit-localize-87611c26.js";import{w as y}from"./watch-c4961afe.js";var m=Object.defineProperty,V=Object.getOwnPropertyDescriptor,d=(e,t,i,s)=>{for(var o=s>1?void 0:s?V(t,i):t,h=e.length-1,v;h>=0;h--)(v=e[h])&&(o=(s?v(t,i,o):v(o))||o);return s&&o&&m(t,i,o),o},p=(e,t,i)=>{if(!t.has(e))throw TypeError("Cannot "+i)},r=(e,t,i)=>(p(e,t,"read from private field"),i?i.call(e):t.get(e)),_=(e,t,i)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,i)},c=(e,t,i,s)=>(p(e,t,"write to private field"),s?s.call(e,i):t.set(e,i),i),a;class l extends u{constructor(){super(),_(this,a,void 0),this.required=!1,this.name="";try{c(this,a,this.attachInternals())}catch{c(this,a,{form:this.closest("form"),setFormValue:i=>{this.value=i},setValidity:(i,s)=>{this.invalid=i.customError},validationMessage:"",validity:{badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},willValidate:!0,checkValidity:()=>!0,reportValidity:()=>!0})}}set invalid(t){const i=this.invalid;r(this,a).setValidity({...r(this,a).validity,customError:t,valid:!t},this.validationMessage||f("Validation error"),this._getValidityAnchor()||void 0),this.requestUpdate("invalid",i),r(this,a).checkValidity()}get invalid(){return!r(this,a).validity.valid}get form(){return r(this,a).form}get validity(){return r(this,a).validity}get validationMessage(){return r(this,a).validationMessage}get willValidate(){return r(this,a).willValidate}checkValidity(){if(!this._getValidityAnchor()||!this.validator)return!0;const i=this.invalid,s=this.validator.validate(this)||[{...this.validity,valid:!0},""];return r(this,a).setValidity(s[0],s[1],this._getValidityAnchor()),this.requestUpdate("invalid",i),r(this,a).checkValidity()}reportValidity(){return r(this,a).reportValidity()}__handleValueChange(){r(this,a).setFormValue(this.value),this.checkValidity()}formResetCallback(){this.value=void 0}formAssociatedCallback(t){t.addEventListener("submit",this._handleFormSubmit.bind(this))}_handleFormSubmit(t){this.checkValidity(),this.validity.valid||t.preventDefault()}}a=new WeakMap;l.formAssociated=!0;d([n({attribute:!1})],l.prototype,"validator",2);d([n({type:Boolean})],l.prototype,"required",2);d([n({type:Boolean,reflect:!0,attribute:"aria-invalid",converter:{fromAttribute:Boolean,toAttribute:e=>e==null?void 0:e.toString()}})],l.prototype,"invalid",1);d([n()],l.prototype,"label",2);d([n()],l.prototype,"value",2);d([n({reflect:!0})],l.prototype,"name",2);d([y("value")],l.prototype,"__handleValueChange",1);export{l as G};
