(self.webpackChunkgreen=self.webpackChunkgreen||[]).push([[8917],{"./libs/angular/src/lib/pagination/pagination.component.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>NggPaginationComponent});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),src=__webpack_require__("./libs/extract/src/index.ts");let NggPaginationComponent=class NggPaginationComponent{constructor(){this.i18n=src.pS,this.size="small",this.displayPages=5,this.length=0,this.pageSize=10,this._pageIndex=0,this._pageIndicies=[],this.page=new core.EventEmitter}get pageIndex(){return this._pageIndex}set pageIndex(value){this._pageIndex=Math.max(value,0)}get pageIndicies(){return this._pageIndicies}get totalPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}ngOnChanges(changes){(changes.displayPages||changes.pageIndex||changes.pageSize||changes.length)&&(this._pageIndicies=this.getDisplayedPageIndicies())}hasPrevious(){return this.pageIndex>=1}hasNext(){return this.pageIndex<this.totalPages-1}gotoFirst(){if(!this.hasPrevious())return;const previous=this.pageIndex;this.pageIndex=0,this.emit(previous)}gotoLast(){if(!this.hasNext())return;const previous=this.pageIndex;this.pageIndex=this.totalPages-1,this.emit(previous)}gotoPrevious(){if(!this.hasPrevious())return;const previous=this.pageIndex;this.pageIndex=previous-1,this.emit(previous)}gotoNext(){if(!this.hasNext())return;const previous=this.pageIndex;this.pageIndex=previous+1,this.emit(previous)}goto(index){if(index===this.pageIndex||index<0||index>=this.totalPages)return;const previous=this.pageIndex;this.pageIndex=index,this.emit(previous)}emit(previous){this._pageIndicies=this.getDisplayedPageIndicies(),this.page.emit({pageIndex:this.pageIndex,previousPageIndex:previous})}getDisplayedPageIndicies(){return this.totalPages<=1?[]:this.totalPages<=this.displayPages?[...Array(this.totalPages-2).keys()].map((index=>index+1)):2===this.totalPages?[]:this.getCenteredPageIndicies()}getCenteredPageIndicies(){const pages=[];0===this.pageIndex?pages.push(this.pageIndex+1):this.pageIndex===this.totalPages-1?pages.push(this.pageIndex-1):pages.push(this.pageIndex);const addAfter=()=>{const next=pages[pages.length-1]+1;return next<this.totalPages-1&&counter>0&&(pages.push(next),!0)},addBefore=()=>{const previous=pages[0]-1;return previous>0&&counter>0&&(pages.unshift(previous),!0)};let counter=this.displayPages-1;for(;counter>0;){const addedAfter=addAfter();addedAfter&&counter--;const addedBefore=addBefore();if(addedBefore&&counter--,!addedAfter&&!addedBefore)break}return pages}static#_=this.propDecorators={i18n:[{type:core.Input}],size:[{type:core.Input}],displayPages:[{type:core.Input}],length:[{type:core.Input}],pageSize:[{type:core.Input}],pageIndex:[{type:core.Input}],page:[{type:core.Output}]}};NggPaginationComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"ngg-pagination",template:'<nav\n  [class]="\'pagination \' + size"\n  role="navigation"\n  [attr.aria-label]="i18n.paginationLabel"\n  *ngIf="totalPages > 1"\n>\n  <ul class="gds-reset">\n    <li *ngIf="hasPrevious()">\n      <a\n        class="gds-reset"\n        tabindex="0"\n        (click)="gotoPrevious()"\n        (keydown.enter)="gotoPrevious()"\n        [attr.aria-label]="i18n.previousPageLabel"\n        role="button"\n      >\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\n          <path\n            d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"\n          />\n        </svg>\n      </a>\n    </li>\n\n    <li>\n      <a\n        class="gds-reset"\n        tabindex="0"\n        (click)="gotoFirst()"\n        (keydown.enter)="gotoFirst()"\n        [attr.aria-current]="pageIndex === 0 ? \'page\' : null"\n        [attr.aria-label]="i18n.firstPageLabel"\n        role="button"\n      >\n        1\n      </a>\n    </li>\n    <li *ngIf="pageIndicies[0] > 1" aria-hidden="true">...</li>\n\n    <li *ngFor="let index of pageIndicies">\n      <a\n        class="gds-reset"\n        tabindex="0"\n        (click)="goto(index)"\n        (keydown.enter)="goto(index)"\n        [attr.aria-current]="pageIndex === index ? \'page\' : null"\n        [attr.aria-label]="i18n.getPageLabel(index)"\n        role="button"\n      >\n        {{ index + 1 }}\n      </a>\n    </li>\n\n    <li\n      *ngIf="pageIndicies[pageIndicies.length - 1] < totalPages - 2"\n      aria-hidden="true"\n    >\n      ...\n    </li>\n\n    <li>\n      <a\n        class="gds-reset"\n        tabindex="0"\n        (click)="gotoLast()"\n        (keydown.enter)="gotoLast()"\n        [attr.aria-current]="pageIndex === totalPages - 1 ? \'page\' : null"\n        [attr.aria-label]="i18n.lastPageLabel"\n        role="button"\n      >\n        {{ totalPages }}\n      </a>\n    </li>\n    <li *ngIf="hasNext()">\n      <a\n        class="gds-reset"\n        tabindex="0"\n        (click)="gotoNext()"\n        (keydown.enter)="gotoNext()"\n        [attr.aria-label]="i18n.nextPageLabel"\n        role="button"\n      >\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">\n          <path\n            d="M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"\n          />\n        </svg>\n      </a>\n    </li>\n  </ul>\n</nav>\n',changeDetection:core.ChangeDetectionStrategy.OnPush})],NggPaginationComponent)},"./libs/extract/src/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{pS:()=>PaginationI18n,Ud:()=>calculateDegrees,jz:()=>getSliderTrackBackground,zE:()=>randomId,SE:()=>sliderColors});const randomId=()=>"gds-"+Math.random().toString(36).substring(2,9),PaginationI18n={paginationLabel:"Pagination",nextPageLabel:"Next page",previousPageLabel:"Previous page",firstPageLabel:"First page",lastPageLabel:"Last page",jumpToPageLabel:"Go to page",getPageLabel:index=>`Page ${index+1}`},calculateDegrees=percent=>percent>100?180:percent<0?0:1.8*percent,sliderColors={primary:"#007ac7",disabled:"#dedede"},getSliderTrackBackground=val=>`linear-gradient(\n        to right,\n        ${sliderColors.primary} 0%,\n        ${sliderColors.primary} ${val}%,\n        ${sliderColors.disabled} ${val}%,\n        ${sliderColors.disabled} 100%\n      )`},"./libs/angular/src/lib/pagination/pagination.component.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Heading:()=>Heading,Primary:()=>Primary,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_green_green_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@angular-devkit/build-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_pagination_component__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./libs/angular/src/lib/pagination/pagination.component.ts"),_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@storybook/testing-library/dist/index.mjs"),_storybook_jest__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@storybook/jest/dist/index.mjs");const __WEBPACK_DEFAULT_EXPORT__={component:_pagination_component__WEBPACK_IMPORTED_MODULE_0__.M,title:"NggPaginationComponent"},Primary={args:{size:"small",displayPages:5,length:0,pageSize:10,pageIndex:0}},Heading={args:{size:"small",displayPages:5,length:0,pageSize:10,pageIndex:0},play:(_ref=(0,_home_runner_work_green_green_node_modules_angular_devkit_build_angular_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_2__.A)((function*({canvasElement}){const canvas=(0,_storybook_testing_library__WEBPACK_IMPORTED_MODULE_1__.ux)(canvasElement);(0,_storybook_jest__WEBPACK_IMPORTED_MODULE_3__.E)(canvas.getByText(/pagination works!/gi)).toBeTruthy()})),function play(_x){return _ref.apply(this,arguments)})};var _ref;Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{\n  args: {\n    size: 'small',\n    displayPages: 5,\n    length: 0,\n    pageSize: 10,\n    pageIndex: 0\n  }\n}",...Primary.parameters?.docs?.source}}},Heading.parameters={...Heading.parameters,docs:{...Heading.parameters?.docs,source:{originalSource:"{\n  args: {\n    size: 'small',\n    displayPages: 5,\n    length: 0,\n    pageSize: 10,\n    pageIndex: 0\n  },\n  play: async ({\n    canvasElement\n  }) => {\n    const canvas = within(canvasElement);\n    expect(canvas.getByText(/pagination works!/gi)).toBeTruthy();\n  }\n}",...Heading.parameters?.docs?.source}}};const __namedExportsOrder=["Primary","Heading"]},"?4f7e":()=>{}}]);