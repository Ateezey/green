import{r as m}from"./lit-element-BoQqPHl6.js";import{n as y}from"./gds-element-QykLKB9o.js";const d={0:"0px","2xs":"320px",xs:"425px",s:"768px",m:"1024px",l:"1280px",xl:"1440px","2xl":"2560px","3xl":"3840px","4xl":"4320px","5xl":"6016px","6xl":"7680px"},$=/^([<|>]=?)?([0-9a-z]+)/,x=["{","}",";",":",","],o=[" ","/n"];function g(e){const l=[];let t="";for(let s=0;s<e.length;s++){const n=e[s];if(o.includes(n)||(t+=n),x.includes(n)){l.push(t.slice(0,-1)),l.push(n),t="";continue}if(o.includes(n)||s===e.length-1){l.push(t),t="";continue}}return l.filter(s=>s!=="")}function k(e){const l=[];let t={breakpoint:"-",values:[]};const s=()=>({sel:"",values:[]});let n=s();for(const c of e){if(!x.includes(c)){n.values.push(c);continue}if(c==="{"&&(t={breakpoint:n.values.join(","),values:[]},n=s()),c===";"&&(l.length===0&&l.push(t),n.values.length>0&&(t.values.push(n),n=s())),c===":"){const a=n.values.pop()??"";n.sel=a}t&&c==="}"&&(t.values.push(n),n=s(),l.push(t))}return n.values.length>0&&t.values.push(n),l.length===0&&l.push(t),l}function b(e){return e.split(",").map(t=>{const s=t.trim().match($);if(!s)throw new Error(`Invalid breakpoint specifier: ${t}`);return{condition:s[1],value:s[2]}})}function S(e,l,t,s=c=>c,n=(c,a)=>`${c}: ${a.join(" ")};`){let c="";for(const a of t){const h=`@media ${(a.breakpoint==="-"?[{condition:">=",value:"0"}]:b(a.breakpoint)).map(r=>{var u;return`(${(u=r.condition)!=null&&u.includes("<")?"max-width":"min-width"}: ${d[r.value]??r.value})`}).join(" and ")} {${a.values.map(r=>{let u=e;r.sel.length>0&&(u=e===":host"?`:host(:${r.sel})`:`${e}:${r.sel}`);const f=n(l,r.values.map(s));return r.sel==="hover"?`@media (hover: hover) {${u}{${f}}}`:`${u}{${f}}`}).join("")}}`;c+=h}return c}const p={};function _(e){return(l,t)=>{const s=(e==null?void 0:e.selector)??":host",n=(e==null?void 0:e.property)??String(t),c=(e==null?void 0:e.valueTemplate)??(i=>`var(--gds-space-${i}, 0)`),a=e==null?void 0:e.styleTemplate,v=(e==null?void 0:e.cacheOverrideKey)??"0";y({attribute:e==null?void 0:e.attribute,noAccessor:!0})(l,t),Object.defineProperty(l,t,{get:function(){return this[t]},set:async function(i){await this.updateComplete;const h=s+n+i+v;if(p.hasOwnProperty(h)){this._dynamicStylesController.inject(`sep_${String(t)}`,p[h]);return}const r=k(g(i)),u=S(s,n,r,c.bind(this),a==null?void 0:a.bind(this)),f=m(u);p[h]=f,this[`__${String(t)}_ast`]=r,this._dynamicStylesController.inject(`sep_${String(t)}`,f),this.requestUpdate()}})}}export{_ as s};
