import{r as O}from"./lit-element-BoQqPHl6.js";import{n as g,g as B,G as E,h as f,r as I}from"./gds-element-QykLKB9o.js";import{a as C}from"./query-p8xgzTDt.js";import{n as z}from"./when-BxLAFfhK.js";import{m as V}from"./runtime-CMQcyTl6.js";import{T as P}from"./transitional-styles-C6IQsa0n.js";import{w as D}from"./watch-tFciLXSI.js";import{r as L}from"./resize-observer-B9k8v2TZ.js";import{t as T}from"./tokens.style-DuOE18tp.js";import"./chevron-right-CG1bFK5r.js";const U=":host{display:flex;transition:.2s;z-index:1}button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border-radius:calc(infinity * 1px);border-width:0;color:var(--gds-sys-color-content-content);cursor:pointer;flex-grow:1;flex-shrink:0;font-family:inherit;font-size:inherit;overflow:hidden;padding:0 1rem;text-align:center;text-overflow:ellipsis;white-space:nowrap;width:100%}button:disabled{cursor:not-allowed;opacity:.5}@media (pointer: fine){button:hover{background-color:color-mix(in srgb,var(--gds-sys-color-state-layers-state-black-dim1),transparent)}button:hover:disabled{background-color:transparent}}button:focus-visible{outline:2px solid #000;outline-offset:-2px}";var A=Object.defineProperty,F=Object.getOwnPropertyDescriptor,y=(t,e,s,i)=>{for(var n=i>1?void 0:i?F(e,s):e,o=t.length-1,h;o>=0;o--)(h=t[o])&&(n=(i?h(e,s,n):h(n))||n);return i&&n&&A(e,s,n),n};let p=class extends E{constructor(){super(...arguments),this.selected=!1,this.disabled=!1,this._isVisible=!0}get isVisible(){return this._isVisible}connectedCallback(){super.connectedCallback(),P.instance.apply(this,"gds-segmented"),this.setAttribute("role","listitem")}render(){return f`<button
      aria-current=${String(this.selected)}
      ?disabled="${this.disabled}"
    >
      <slot></slot>
    </button>`}};p.styles=[...T,O(U)];y([g({type:Boolean,reflect:!0})],p.prototype,"selected",2);y([g()],p.prototype,"value",2);y([g({type:Boolean,reflect:!0})],p.prototype,"disabled",2);p=y([B("gds-segment")],p);const X=':host{background-color:var(--gds-sys-color-container-container-dim1);border:.25rem solid var(--gds-sys-color-container-container-dim1);border-radius:calc(infinity * 1px);box-sizing:border-box;contain:layout;display:inline-flex;gap:.25rem;height:3rem;max-width:100%;overflow:hidden}:host([size="small"]){height:2.5rem}#track{display:flex;flex-grow:1;scroll-snap-type:inline mandatory;overscroll-behavior-x:contain;scroll-behavior:smooth;overflow:hidden;gap:.25rem;box-sizing:border-box;position:relative}#btn-prev,#btn-next{align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;aspect-ratio:1;background-color:var(--gds-sys-color-container-container-dim1);border-radius:calc(infinity * 1px);border-width:0;color:var(--gds-sys-color-content-content);cursor:pointer;display:flex;font-size:1rem;height:100%;justify-content:center;width:2.5rem}@media (pointer: fine){#btn-prev:hover,#btn-next:hover{background-color:color-mix(in srgb,var(--gds-sys-color-state-layers-state-black-dim1),var(--gds-sys-color-container-container-dim1))}}:host([size="small"]) #btn-prev,:host([size="small"]) #btn-next{width:2rem}::slotted(*){flex-grow:1;flex-shrink:0;z-index:1;scroll-snap-align:start}#indicator{background-color:var(--gds-sys-color-container-container-bright);border-radius:calc(infinity * 1px);height:100%;left:0;position:absolute;transition:transform .2s,width .2s;z-index:0}';var R=Object.defineProperty,Z=Object.getOwnPropertyDescriptor,G=t=>{throw TypeError(t)},c=(t,e,s,i)=>{for(var n=i>1?void 0:i?Z(e,s):e,o=t.length-1,h;o>=0;o--)(h=t[o])&&(n=(i?h(e,s,n):h(n))||n);return i&&n&&R(e,s,n),n},$=(t,e,s)=>e.has(t)||G("Cannot "+s),r=(t,e,s)=>($(t,e,"read from private field"),s?s.call(t):e.get(t)),l=(t,e,s)=>e.has(t)?G("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),b=(t,e,s,i)=>($(t,e,"write to private field"),e.set(t,s),s),j=(t,e,s)=>($(t,e,"access private method"),s),d,m,u,x,N,k,S,_,v,W,M;const q={small:36,medium:44},w=t=>t?0:4;let a=class extends E{constructor(){super(...arguments),l(this,x),this.segMinWidth=100,this.size="medium",l(this,d),this._showPrevButton=!1,this._showNextButton=!1,l(this,m,0),this.intersectionObserver=null,l(this,u,(t=!1)=>{console.log("calcLayout");const e=()=>{const s=this.segments.length,i=this._elTrack.offsetWidth;if(i/s>this.segMinWidth)return{count:s,segmentWidth:(i-w(this._isUsingTransitionalStyles)*(s-1))/s};const n=this.offsetWidth-q[this.size]*2,o=Math.floor(n/this.segMinWidth),h=(i-w(this._isUsingTransitionalStyles)*(o-1))/o;return{count:o,segmentWidth:h}};r(this,_).call(this),this.updateComplete.then(()=>{const{segmentWidth:s}=e();this.segments.forEach(i=>{i.style.width=s+"px"}),b(this,m,s),r(this,v).call(this)})}),l(this,k,()=>{this.segments.filter((t,e,s)=>{var i;return((i=s[e+1])==null?void 0:i.isVisible)&&!t.isVisible})[0].scrollIntoView()}),l(this,S,()=>{this.segments.filter((t,e,s)=>{var i;return((i=s[e-1])==null?void 0:i.isVisible)&&!t.isVisible}).reverse()[0].scrollIntoView({block:"end"})}),l(this,_,()=>{this._showPrevButton=!this.segments[0].isVisible,this._showNextButton=!this.segments[this.segments.length-1].isVisible}),l(this,v,()=>{const t=this.segments.find(e=>e.selected);if(t){const e=this.segments.indexOf(t),s=e*r(this,m)+w(this._isUsingTransitionalStyles)*e;this._elIndicator.style.transform=`translateX(${s}px)`,this._elIndicator.style.width=`${r(this,m)}px`}else this._elIndicator.style.transform="translateX(-100%)",this._elIndicator.style.width="0px"}),l(this,W,t=>{const e=this.segments.find(s=>s===t.target||s.contains(t.target));e&&(this.segments.forEach(s=>s.selected=!1),e.selected=!0,b(this,d,e.value),r(this,v).call(this),this.dispatchEvent(new CustomEvent("change",{detail:{segment:e},bubbles:!0,composed:!0})))}),l(this,M,()=>{r(this,d)&&this.updateComplete.then(()=>{const t=this.segments.find(e=>e.value===r(this,d));t&&(this.segments.forEach(e=>e.selected=!1),t.selected=!0,r(this,u).call(this,!0))})})}get value(){return r(this,d)}set value(t){b(this,d,t),r(this,M).call(this)}get segments(){return this._elSlot?this._elSlot.assignedElements():[]}connectedCallback(){super.connectedCallback(),P.instance.apply(this,"gds-segmented-control")}render(){return f`${z(this._showPrevButton,()=>f`<button
            id="btn-prev"
            @click=${r(this,k)}
            aria-label=${V("Scroll right")}
          >
            <gds-icon-chevron-left />
          </button>`)}
      <div id="track" role="list">
        <slot
          gds-allow="gds-segment"
          @click=${r(this,W)}
          @slotchange=${j(this,x,N)}
          role="none"
        ></slot>
        <div id="indicator" role="none"></div>
      </div>
      ${z(this._showNextButton,()=>f`<button
            id="btn-next"
            @click=${r(this,S)}
            aria-label=${V("Scroll right")}
          >
            <gds-icon-chevron-right />
          </button>`)}`}_recalculateMinWidth(){this.updateComplete.then(()=>r(this,u).call(this))}};d=new WeakMap;m=new WeakMap;u=new WeakMap;x=new WeakSet;N=function(){var e,s;const t=(e=this.segments.find(i=>i.selected))==null?void 0:e.value;t&&b(this,d,t),(s=this.intersectionObserver)==null||s.disconnect(),this.intersectionObserver=new IntersectionObserver(i=>{i.forEach(n=>{const o=n.target;o._isVisible=n.isIntersecting}),r(this,_).call(this),r(this,u).call(this)},{root:this._elTrack,rootMargin:"0px",threshold:.1}),this.segments.forEach(i=>{var n;(n=this.intersectionObserver)==null||n.observe(i)})};k=new WeakMap;S=new WeakMap;_=new WeakMap;v=new WeakMap;W=new WeakMap;M=new WeakMap;a.styles=[T,O(X)];c([g({type:Number,attribute:"seg-min-width"})],a.prototype,"segMinWidth",2);c([g({reflect:!0})],a.prototype,"size",2);c([g()],a.prototype,"value",1);c([C("slot")],a.prototype,"_elSlot",2);c([C("#indicator")],a.prototype,"_elIndicator",2);c([C("#track")],a.prototype,"_elTrack",2);c([I()],a.prototype,"_showPrevButton",2);c([I()],a.prototype,"_showNextButton",2);c([L(),D("segMinWidth")],a.prototype,"_recalculateMinWidth",1);a=c([B("gds-segmented-control")],a);
