import{r as x}from"./lit-element-1d72f0ce.js";import{n as m}from"./gds-element-86064462.js";import{w as $}from"./watch-c4961afe.js";const d={0:"0px","2xs":"320px",xs:"425px",s:"768px",m:"1024px",l:"1280px",xl:"1440px","2xl":"2560px","3xl":"3840px","4xl":"4320px","5xl":"6016px","6xl":"7680px"},g=/^([<|>]=?)?([0-9a-z]+)/,v=["{","}",";",":",","],o=[" ","/n"];function k(e){const l=[];let t="";for(let s=0;s<e.length;s++){const n=e[s];if(o.includes(n)||(t+=n),v.includes(n)){l.push(t.slice(0,-1)),l.push(n),t="";continue}if(o.includes(n)||s===e.length-1){l.push(t),t="";continue}}return l.filter(s=>s!=="")}function b(e){const l=[];let t={breakpoint:"-",values:[]};const s=()=>({sel:"",values:[]});let n=s();for(const a of e){if(!v.includes(a)){n.values.push(a);continue}if(a==="{"&&(t={breakpoint:n.values.join(","),values:[]},n=s()),a===";"&&(l.length===0&&l.push(t),n.values.length>0&&(t.values.push(n),n=s())),a===":"){const u=n.values.pop()??"";n.sel=u}t&&a==="}"&&(t.values.push(n),n=s(),l.push(t))}return n.values.length>0&&t.values.push(n),l.length===0&&l.push(t),l}function y(e){return e.split(",").map(t=>{const s=t.trim().match(g);if(!s)throw new Error(`Invalid breakpoint specifier: ${t}`);return{condition:s[1],value:s[2]}})}function w(e,l,t,s=a=>a,n=(a,u)=>`${a}: ${u.join(" ")};`){let a="";for(const u of t){const c=`@media ${(u.breakpoint==="-"?[{condition:">=",value:"0"}]:y(u.breakpoint)).map(r=>{var i;return`(${(i=r.condition)!=null&&i.includes("<")?"max-width":"min-width"}: ${d[r.value]??r.value})`}).join(" and ")} {${u.values.map(r=>{let i=e;r.sel.length>0&&(i=e===":host"?`:host(:${r.sel})`:`${e}:${r.sel}`);const f=n(l,r.values.map(s));return r.sel==="hover"?`@media (hover: hover) {${i}{${f}}}`:`${i}{${f}}`}).join("")}}`;a+=c}return a}function B(e){return(l,t)=>{const s=(e==null?void 0:e.selector)??":host",n=(e==null?void 0:e.property)??String(t),a=(e==null?void 0:e.valueTemplate)??(h=>`var(--gds-space-${h})`),u=e==null?void 0:e.styleTemplate;m({attribute:e==null?void 0:e.attribute})(l,t),$(t)(l,t,{value:function(h,p){const c=b(k(p)),r=w(s,n,c,a.bind(this),u==null?void 0:u.bind(this));this[`__${String(t)}_ast`]=c,this._dynamicStylesController.inject(`sep_${String(t)}`,x(r))}})}}export{B as s};
