@layer grid, grid.desktop, grid.tablet, grid.mobile, grid.span, grid.space, grid.align, grid.debug;

@layer grid {
  :host {
    --gds-c: 12;
    --gds-grid-col: repeat(var(--gds-c), 1fr);
    --gds-grid-col-start: 1;
    --gds-grid-col-end: -1;
    --gds-debug-color: hsla(241, 100%, 66%, 0.4);
    --gds-debug-color-container: rgba(255, 82, 197, 0.4);
    --gds-gap-column: 0px;

    /* THESE NEED TO BE MOVED TO TOKENS */

    --gds-gap-none: 0px;
    --gds-gap-xs: 4px;
    --gds-gap-s: 8px;
    --gds-gap-m: 16px;
    --gds-gap-l: 24px;
    --gds-gap-xl: 32px;
    --gds-gap-xxl: 48px;
    --gds-gap-xxxl: 96px;

    /* THESE NEED TO BE MOVED TO TOKENS */

    display: grid;
    width: 100%;
    grid-template-columns: var(--gds-grid-col);
    grid-column-gap: var(--gds-gap-column);
    /* grid-row-gap: var(--gds-gap-row); */
    text-wrap: balance;

    & > gds-cell {
      height: 100%;
    }

    &[fluid] {
      --gds-grid-col-count: var(--gds-c);
      --gds-grid-col-width: 200px;
      --gap-count: calc(var(--gds-grid-col-count) - 1);
      --total-gap-width: calc(var(--gap-count) * var(--gds-gap-column));
      --gds-grid-col-width-max: calc(
        (100% - var(--total-gap-width)) / var(--gds-grid-col-count)
      );

      grid-template-columns: repeat(
        auto-fill,
        minmax(
          max(var(--gds-grid-col-width), var(--gds-grid-col-width-max)),
          1fr
        )
      );
      text-wrap: balance;
    }

    &[content-inline='auto'] {
      display: grid;
      grid-auto-columns: auto;
      grid-auto-flow: column;
      grid-template-columns: none;
    }

    &[inline-size='max-content'] {
      max-width: max-content;
    }
  }
}

/* Responsive */
:host {
  --gds-c: var(--gds-columns-desktop);
  --gds-gap-column: var(--gds-gap-desktop);
}

@media only screen and (max-width: 768px) {
  :host {
    --gds-c: var(--gds-columns-tablet);
    --gds-gap-column: var(--gds-gap-tablet);
  }
}

@media only screen and (max-width: 425px) {
  :host {
    --gds-c: var(--gds-columns-mobile);
    --gds-gap-column: var(--gds-gap-mobile);
  }
}
