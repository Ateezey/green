import{i as ee,r as ie,x as ne}from"./lit-element-71e04f06.js";import{n as T,r as Ct,g as oe,G as se}from"./gds-element-54cd6e2a.js";import{a as Tt}from"./query-b9d3c2af.js";import{e as re}from"./class-map-4ef1884f.js";import{m as le}from"./lit-localize-87611c26.js";import{w as Y}from"./watch-c4961afe.js";import{T as ae}from"./transitional-styles-c1ac9719.js";import"./cross-small-edc2ae06.js";function ce(t){return(e,i,n)=>{const o=window.matchMedia(t),s=e.connectedCallback,r=e.disconnectedCallback;e.connectedCallback=function(){var a;s==null||s.call(this);const l=c=>{var h;(h=n.value)==null||h.call(this,c.matches)};o.addEventListener("change",l),this.disconnectedCallback=function(){r==null||r.call(this),o.removeEventListener("change",l)},(a=n.value)==null||a.call(this,o.matches)}}}const gt=Math.min,z=Math.max,rt=Math.round,et=Math.floor,O=t=>({x:t,y:t}),fe={left:"right",right:"left",bottom:"top",top:"bottom"},he={start:"end",end:"start"};function Rt(t,e){return typeof t=="function"?t(e):t}function X(t){return t.split("-")[0]}function ft(t){return t.split("-")[1]}function ue(t){return t==="x"?"y":"x"}function Ht(t){return t==="y"?"height":"width"}function kt(t){return["top","bottom"].includes(X(t))?"y":"x"}function $t(t){return ue(kt(t))}function de(t,e,i){i===void 0&&(i=!1);const n=ft(t),o=$t(t),s=Ht(o);let r=o==="x"?n===(i?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=lt(r)),[r,lt(r)]}function pe(t){const e=lt(t);return[mt(t),e,mt(e)]}function mt(t){return t.replace(/start|end/g,e=>he[e])}function ge(t,e,i){const n=["left","right"],o=["right","left"],s=["top","bottom"],r=["bottom","top"];switch(t){case"top":case"bottom":return i?e?o:n:e?n:o;case"left":case"right":return e?s:r;default:return[]}}function me(t,e,i,n){const o=ft(t);let s=ge(X(t),i==="start",n);return o&&(s=s.map(r=>r+"-"+o),e&&(s=s.concat(s.map(mt)))),s}function lt(t){return t.replace(/left|right|bottom|top/g,e=>fe[e])}function ye(t){return{top:0,right:0,bottom:0,left:0,...t}}function be(t){return typeof t!="number"?ye(t):{top:t,right:t,bottom:t,left:t}}function at(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function Nt(t,e,i){let{reference:n,floating:o}=t;const s=kt(e),r=$t(e),l=Ht(r),a=X(e),c=s==="y",h=n.x+n.width/2-o.width/2,f=n.y+n.height/2-o.height/2,y=n[l]/2-o[l]/2;let u;switch(a){case"top":u={x:h,y:n.y-o.height};break;case"bottom":u={x:h,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:f};break;case"left":u={x:n.x-o.width,y:f};break;default:u={x:n.x,y:n.y}}switch(ft(e)){case"start":u[r]-=y*(i&&c?-1:1);break;case"end":u[r]+=y*(i&&c?-1:1);break}return u}const we=async(t,e,i)=>{const{placement:n="bottom",strategy:o="absolute",middleware:s=[],platform:r}=i,l=s.filter(Boolean),a=await(r.isRTL==null?void 0:r.isRTL(e));let c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:h,y:f}=Nt(c,n,a),y=n,u={},d=0;for(let m=0;m<l.length;m++){const{name:E,fn:b}=l[m],{x:v,y:x,data:k,reset:_}=await b({x:h,y:f,initialPlacement:n,placement:y,strategy:o,middlewareData:u,rects:c,platform:r,elements:{reference:t,floating:e}});h=v??h,f=x??f,u={...u,[E]:{...u[E],...k}},_&&d<=50&&(d++,typeof _=="object"&&(_.placement&&(y=_.placement),_.rects&&(c=_.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:o}):_.rects),{x:h,y:f}=Nt(c,y,a)),m=-1)}return{x:h,y:f,placement:y,strategy:o,middlewareData:u}};async function ve(t,e){var i;e===void 0&&(e={});const{x:n,y:o,platform:s,rects:r,elements:l,strategy:a}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:y=!1,padding:u=0}=Rt(e,t),d=be(u),E=l[y?f==="floating"?"reference":"floating":f],b=at(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(E)))==null||i?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:h,strategy:a})),v=f==="floating"?{...r.floating,x:n,y:o}:r.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),k=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},_=at(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:x,strategy:a}):v);return{top:(b.top-_.top+d.top)/k.y,bottom:(_.bottom-b.bottom+d.bottom)/k.y,left:(b.left-_.left+d.left)/k.x,right:(_.right-b.right+d.right)/k.x}}const xe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,n;const{placement:o,middlewareData:s,rects:r,initialPlacement:l,platform:a,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:y,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:m=!0,...E}=Rt(t,e);if((i=s.arrow)!=null&&i.alignmentOffset)return{};const b=X(o),v=X(l)===l,x=await(a.isRTL==null?void 0:a.isRTL(c.floating)),k=y||(v||!m?[lt(l)]:pe(l));!y&&d!=="none"&&k.push(...me(l,m,d,x));const _=[l,...k],W=await ve(e,E),tt=[];let G=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&tt.push(W[b]),f){const P=de(o,r,x);tt.push(W[P[0]],W[P[1]])}if(G=[...G,{placement:o,overflows:tt}],!tt.every(P=>P<=0)){var Ot,Dt;const P=(((Ot=s.flip)==null?void 0:Ot.index)||0)+1,Pt=_[P];if(Pt)return{data:{index:P,overflows:G},reset:{placement:Pt}};let q=(Dt=G.filter($=>$.overflows[0]<=0).sort(($,I)=>$.overflows[1]-I.overflows[1])[0])==null?void 0:Dt.placement;if(!q)switch(u){case"bestFit":{var Wt;const $=(Wt=G.map(I=>[I.placement,I.overflows.filter(j=>j>0).reduce((j,te)=>j+te,0)]).sort((I,j)=>I[1]-j[1])[0])==null?void 0:Wt[0];$&&(q=$);break}case"initialPlacement":q=l;break}if(o!==q)return{reset:{placement:q}}}return{}}}};async function _e(t,e){const{placement:i,platform:n,elements:o}=t,s=await(n.isRTL==null?void 0:n.isRTL(o.floating)),r=X(i),l=ft(i),a=kt(i)==="y",c=["left","top"].includes(r)?-1:1,h=s&&a?-1:1,f=Rt(e,t);let{mainAxis:y,crossAxis:u,alignmentAxis:d}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return l&&typeof d=="number"&&(u=l==="end"?d*-1:d),a?{x:u*h,y:y*c}:{x:y*c,y:u*h}}const Ee=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,n;const{x:o,y:s,placement:r,middlewareData:l}=e,a=await _e(e,t);return r===((i=l.offset)==null?void 0:i.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+a.x,y:s+a.y,data:{...a,placement:r}}}}};function D(t){return It(t)?(t.nodeName||"").toLowerCase():"#document"}function R(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function M(t){var e;return(e=(It(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function It(t){return t instanceof Node||t instanceof R(t).Node}function S(t){return t instanceof Element||t instanceof R(t).Element}function L(t){return t instanceof HTMLElement||t instanceof R(t).HTMLElement}function Vt(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof R(t).ShadowRoot}function Z(t){const{overflow:e,overflowX:i,overflowY:n,display:o}=A(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+i)&&!["inline","contents"].includes(o)}function Ce(t){return["table","td","th"].includes(D(t))}function At(t){const e=Lt(),i=A(t);return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(i.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(i.contain||"").includes(n))}function zt(t){let e=U(t);for(;L(e)&&!ht(e);){if(At(e))return e;e=U(e)}return null}function Lt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ht(t){return["html","body","#document"].includes(D(t))}function A(t){return R(t).getComputedStyle(t)}function ut(t){return S(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function U(t){if(D(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vt(t)&&t.host||M(t);return Vt(e)?e.host:e}function Kt(t){const e=U(t);return ht(e)?t.ownerDocument?t.ownerDocument.body:t.body:L(e)&&Z(e)?e:Kt(e)}function J(t,e,i){var n;e===void 0&&(e=[]),i===void 0&&(i=!0);const o=Kt(t),s=o===((n=t.ownerDocument)==null?void 0:n.body),r=R(o);return s?e.concat(r,r.visualViewport||[],Z(o)?o:[],r.frameElement&&i?J(r.frameElement):[]):e.concat(o,J(o,[],i))}function Xt(t){const e=A(t);let i=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=L(t),s=o?t.offsetWidth:i,r=o?t.offsetHeight:n,l=rt(i)!==s||rt(n)!==r;return l&&(i=s,n=r),{width:i,height:n,$:l}}function St(t){return S(t)?t:t.contextElement}function K(t){const e=St(t);if(!L(e))return O(1);const i=e.getBoundingClientRect(),{width:n,height:o,$:s}=Xt(e);let r=(s?rt(i.width):i.width)/n,l=(s?rt(i.height):i.height)/o;return(!r||!Number.isFinite(r))&&(r=1),(!l||!Number.isFinite(l))&&(l=1),{x:r,y:l}}const Te=O(0);function Ut(t){const e=R(t);return!Lt()||!e.visualViewport?Te:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Re(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==R(t)?!1:e}function H(t,e,i,n){e===void 0&&(e=!1),i===void 0&&(i=!1);const o=t.getBoundingClientRect(),s=St(t);let r=O(1);e&&(n?S(n)&&(r=K(n)):r=K(t));const l=Re(s,i,n)?Ut(s):O(0);let a=(o.left+l.x)/r.x,c=(o.top+l.y)/r.y,h=o.width/r.x,f=o.height/r.y;if(s){const y=R(s),u=n&&S(n)?R(n):n;let d=y.frameElement;for(;d&&n&&u!==y;){const m=K(d),E=d.getBoundingClientRect(),b=A(d),v=E.left+(d.clientLeft+parseFloat(b.paddingLeft))*m.x,x=E.top+(d.clientTop+parseFloat(b.paddingTop))*m.y;a*=m.x,c*=m.y,h*=m.x,f*=m.y,a+=v,c+=x,d=R(d).frameElement}}return at({width:h,height:f,x:a,y:c})}const ke=[":popover-open",":modal"];function Yt(t){let e=!1,i=0,n=0;function o(s){try{e=e||t.matches(s)}catch{}}if(ke.forEach(s=>{o(s)}),e){const s=zt(t);if(s){const r=s.getBoundingClientRect();i=r.x,n=r.y}}return[e,i,n]}function Ae(t){let{elements:e,rect:i,offsetParent:n,strategy:o}=t;const s=M(n),[r]=e?Yt(e.floating):[!1];if(n===s||r)return i;let l={scrollLeft:0,scrollTop:0},a=O(1);const c=O(0),h=L(n);if((h||!h&&o!=="fixed")&&((D(n)!=="body"||Z(s))&&(l=ut(n)),L(n))){const f=H(n);a=K(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}return{width:i.width*a.x,height:i.height*a.y,x:i.x*a.x-l.scrollLeft*a.x+c.x,y:i.y*a.y-l.scrollTop*a.y+c.y}}function Le(t){return Array.from(t.getClientRects())}function Gt(t){return H(M(t)).left+ut(t).scrollLeft}function Se(t){const e=M(t),i=ut(t),n=t.ownerDocument.body,o=z(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=z(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let r=-i.scrollLeft+Gt(t);const l=-i.scrollTop;return A(n).direction==="rtl"&&(r+=z(e.clientWidth,n.clientWidth)-o),{width:o,height:s,x:r,y:l}}function Me(t,e){const i=R(t),n=M(t),o=i.visualViewport;let s=n.clientWidth,r=n.clientHeight,l=0,a=0;if(o){s=o.width,r=o.height;const c=Lt();(!c||c&&e==="fixed")&&(l=o.offsetLeft,a=o.offsetTop)}return{width:s,height:r,x:l,y:a}}function Oe(t,e){const i=H(t,!0,e==="fixed"),n=i.top+t.clientTop,o=i.left+t.clientLeft,s=L(t)?K(t):O(1),r=t.clientWidth*s.x,l=t.clientHeight*s.y,a=o*s.x,c=n*s.y;return{width:r,height:l,x:a,y:c}}function Bt(t,e,i){let n;if(e==="viewport")n=Me(t,i);else if(e==="document")n=Se(M(t));else if(S(e))n=Oe(e,i);else{const o=Ut(t);n={...e,x:e.x-o.x,y:e.y-o.y}}return at(n)}function qt(t,e){const i=U(t);return i===e||!S(i)||ht(i)?!1:A(i).position==="fixed"||qt(i,e)}function De(t,e){const i=e.get(t);if(i)return i;let n=J(t,[],!1).filter(l=>S(l)&&D(l)!=="body"),o=null;const s=A(t).position==="fixed";let r=s?U(t):t;for(;S(r)&&!ht(r);){const l=A(r),a=At(r);!a&&l.position==="fixed"&&(o=null),(s?!a&&!o:!a&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Z(r)&&!a&&qt(t,r))?n=n.filter(h=>h!==r):o=l,r=U(r)}return e.set(t,n),n}function We(t){let{element:e,boundary:i,rootBoundary:n,strategy:o}=t;const r=[...i==="clippingAncestors"?De(e,this._c):[].concat(i),n],l=r[0],a=r.reduce((c,h)=>{const f=Bt(e,h,o);return c.top=z(f.top,c.top),c.right=gt(f.right,c.right),c.bottom=gt(f.bottom,c.bottom),c.left=z(f.left,c.left),c},Bt(e,l,o));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function Pe(t){const{width:e,height:i}=Xt(t);return{width:e,height:i}}function Ne(t,e,i,n){const o=L(e),s=M(e),r=i==="fixed",l=H(t,!0,r,e);let a={scrollLeft:0,scrollTop:0};const c=O(0);if(o||!o&&!r)if((D(e)!=="body"||Z(s))&&(a=ut(e)),o){const m=H(e,!0,r,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=Gt(s));let h=l.left+a.scrollLeft-c.x,f=l.top+a.scrollTop-c.y;const[y,u,d]=Yt(n);return y&&(h+=u,f+=d,o&&(h+=e.clientLeft,f+=e.clientTop)),{x:h,y:f,width:l.width,height:l.height}}function Ft(t,e){return!L(t)||A(t).position==="fixed"?null:e?e(t):t.offsetParent}function jt(t,e){const i=R(t);if(!L(t))return i;let n=Ft(t,e);for(;n&&Ce(n)&&A(n).position==="static";)n=Ft(n,e);return n&&(D(n)==="html"||D(n)==="body"&&A(n).position==="static"&&!At(n))?i:n||zt(t)||i}const Ve=async function(t){const e=this.getOffsetParent||jt,i=this.getDimensions;return{reference:Ne(t.reference,await e(t.floating),t.strategy,t.floating),floating:{x:0,y:0,...await i(t.floating)}}};function Be(t){return A(t).direction==="rtl"}const Fe={convertOffsetParentRelativeRectToViewportRelativeRect:Ae,getDocumentElement:M,getClippingRect:We,getOffsetParent:jt,getElementRects:Ve,getClientRects:Le,getDimensions:Pe,getScale:K,isElement:S,isRTL:Be};function He(t,e){let i=null,n;const o=M(t);function s(){var l;clearTimeout(n),(l=i)==null||l.disconnect(),i=null}function r(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const{left:c,top:h,width:f,height:y}=t.getBoundingClientRect();if(l||e(),!f||!y)return;const u=et(h),d=et(o.clientWidth-(c+f)),m=et(o.clientHeight-(h+y)),E=et(c),v={rootMargin:-u+"px "+-d+"px "+-m+"px "+-E+"px",threshold:z(0,gt(1,a))||1};let x=!0;function k(_){const W=_[0].intersectionRatio;if(W!==a){if(!x)return r();W?r(!1,W):n=setTimeout(()=>{r(!1,1e-7)},100)}x=!1}try{i=new IntersectionObserver(k,{...v,root:o.ownerDocument})}catch{i=new IntersectionObserver(k,v)}i.observe(t)}return r(!0),s}function $e(t,e,i,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=n,c=St(t),h=o||s?[...c?J(c):[],...J(e)]:[];h.forEach(b=>{o&&b.addEventListener("scroll",i,{passive:!0}),s&&b.addEventListener("resize",i)});const f=c&&l?He(c,i):null;let y=-1,u=null;r&&(u=new ResizeObserver(b=>{let[v]=b;v&&v.target===c&&u&&(u.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var x;(x=u)==null||x.observe(e)})),i()}),c&&!a&&u.observe(c),u.observe(e));let d,m=a?H(t):null;a&&E();function E(){const b=H(t);m&&(b.x!==m.x||b.y!==m.y||b.width!==m.width||b.height!==m.height)&&i(),m=b,d=requestAnimationFrame(E)}return i(),()=>{var b;h.forEach(v=>{o&&v.removeEventListener("scroll",i),s&&v.removeEventListener("resize",i)}),f==null||f(),(b=u)==null||b.disconnect(),u=null,a&&cancelAnimationFrame(d)}}const Ie=xe,ze=(t,e,i)=>{const n=new Map,o={platform:Fe,...i},s={...o.platform,_c:n};return we(t,e,{...o,platform:s})},Ke=ee`
  @layer base, reset, transitional-styles;
  @layer base {
    :host {
      display: contents;
    }

    :host([open]) dialog {
      opacity: 1;
      box-sizing: border-box;
      transform: translate3d(0, 0, 0);
      visibility: visible;
    }

    dialog {
      inset: auto;
      position: fixed;
      overflow: hidden;
      padding: 0px;
      box-sizing: border-box;
      right: 0;
      margin: 0;
      box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.2),
        0 1rem 28px rgba(0, 0, 0, 0.15);
      border-width: 0;
      border-radius: 0.5rem;
    }

    header {
      display: none;
    }

    dialog:not(.has-backdrop)::backdrop {
      background-color: transparent;
      display: block;
      position: fixed;
    }
  }
`;var Xe=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,g=(t,e,i,n)=>{for(var o=n>1?void 0:n?Ue(e,i):e,s=t.length-1,r;s>=0;s--)(r=t[s])&&(o=(n?r(e,i,o):r(o))||o);return n&&o&&Xe(e,i,o),o},Mt=(t,e,i)=>{if(!e.has(t))throw TypeError("Cannot "+i)},w=(t,e,i)=>(Mt(t,e,"read from private field"),i?i.call(t):e.get(t)),C=(t,e,i)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,i)},yt=(t,e,i,n)=>(Mt(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i),N=(t,e,i)=>(Mt(t,e,"access private method"),i),bt,Qt,F,ct,V,Q,B,wt,it,vt,xt,Jt,_t,Zt,nt,Et,dt,pt,ot,st;let p=class extends se{constructor(){super(...arguments),C(this,bt),C(this,it),C(this,xt),C(this,_t),C(this,nt),this.open=!1,this.popupRole="dialog",this.label=void 0,this.placement="bottom-start",this.disableMobileStyles=!1,this.calcMinWidth=t=>`${t.offsetWidth}px`,this.calcMaxWidth=t=>"auto",this.calcMinHeight=t=>"auto",this.calcMaxHeight=t=>"500px",this.nonmodal=!1,this.floatingUIMiddleware=[Ee(8),Ie()],this._trigger=void 0,this._anchor=void 0,this._isVirtKbVisible=!1,C(this,F,void 0),C(this,ct,!1),C(this,V,void 0),C(this,Q,()=>{this.open=!1,w(this,B).call(this,"cancel")}),C(this,B,t=>{this.dispatchEvent(new CustomEvent("gds-ui-state",{detail:{open:this.open,reason:t},bubbles:!1,composed:!1}))}),C(this,wt,t=>{t.stopPropagation(),t.preventDefault(),this.open=!1,w(this,B).call(this,"close"),setTimeout(()=>{var e;return(e=this._trigger)==null?void 0:e.focus()},250)}),C(this,dt,t=>{(t.key==="ArrowDown"||t.key==="ArrowUp")&&(t.preventDefault(),this.open=!0,w(this,B).call(this,"show")),t.key==="Escape"&&this.open&&w(this,Q).call(this)}),C(this,pt,t=>{t.preventDefault(),this.open=!this.open,w(this,B).call(this,this.open?"show":"close")}),C(this,ot,()=>{var e;const t=(e=this._elDefaultSlot)==null?void 0:e.assignedElements()[0];this.updateComplete.then(()=>{t==null||t.focus()})}),C(this,st,t=>{const e=t,i=this._elDialog;if((e.clientX>0||e.clientY>0)&&i&&this.open){const o=i.getBoundingClientRect();o.top<=e.clientY&&e.clientY<=o.top+o.height&&o.left<=e.clientX&&e.clientX<=o.left+o.width||(this.open=!1,w(this,B).call(this,"close"))}})}_handleTriggerRefChanged(){var t;(t=this.triggerRef)==null||t.then(e=>{e&&(this._trigger=e)})}_handleAnchorRefChanged(){var t;(t=this.anchorRef)==null||t.then(e=>{e&&(this._anchor=e)})}_handleTriggerChanged(){N(this,it,vt).call(this),N(this,_t,Zt).call(this)}_handleAnchorChanged(){N(this,nt,Et).call(this)}connectedCallback(){super.connectedCallback(),ae.instance.apply(this,"gds-popover"),N(this,it,vt).call(this),this._handleOpenChange(),this.addEventListener("keydown",t=>{t.key==="Escape"&&this.open&&(w(this,Q).call(this),t.stopPropagation(),t.preventDefault())}),this.addEventListener("focusin",t=>{const e=t.target;e.tagName==="INPUT"||e.tagName==="TEXTAREA"?this._isVirtKbVisible=!0:this._isVirtKbVisible=!1}),this.addEventListener("blurin",t=>{this._isVirtKbVisible=!1})}disconnectedCallback(){super.disconnectedCallback(),N(this,xt,Jt).call(this)}render(){return ne`<slot
        name="trigger"
        @slotchange=${N(this,bt,Qt)}
      ></slot>
      <div ?hidden="${!this.open}">
        <dialog
          class="${re({"v-kb-visible":this._isVirtKbVisible,"use-modal-in-mobile":!this.disableMobileStyles,"has-backdrop":!!(this.backdrop&&this.backdrop==="true")})}"
          aria-hidden="${String(!this.open)}"
          @close=${()=>this.open&&w(this,Q).call(this)}
        >
          <header>
            <h2>${this.label}</h2>
            <gds-button
              @click=${w(this,wt)}
              class="close"
              label="${le("Close")}"
              size="small"
              rank="tertiary"
            >
              <gds-icon-cross-small></icon-cross-small>
            </gds-button>
          </header>
          <slot></slot>
        </dialog>
      </div>`}_handleOpenChange(){this.updateComplete.then(()=>{var t,e,i,n;(t=this._trigger)==null||t.setAttribute("aria-expanded",String(this.open)),this.open?(this.nonmodal?(i=this._elDialog)==null||i.setAttribute("open","true"):(e=this._elDialog)==null||e.showModal(),w(this,ot).call(this),requestAnimationFrame(()=>{w(this,V)&&(w(this,V).show=!0)}),setTimeout(()=>w(this,ot).call(this),250),setTimeout(()=>document.addEventListener("click",w(this,st)),0)):((n=this._elDialog)==null||n.close(),document.removeEventListener("click",w(this,st)),w(this,V)&&(w(this,V).show=!1))})}_handleBackdropChange(){var e;const t=(e=this.parentElement)==null?void 0:e.getRootNode();!this.backdrop||!t||yt(this,V,t.querySelector(this.backdrop))}_handleMobileLayout(t){var i,n,o;var e;yt(this,ct,t),t&&!this.disableMobileStyles?((e=w(this,F))==null||e.call(this),(i=this._elDialog)==null||i.style.removeProperty("left"),(n=this._elDialog)==null||n.style.removeProperty("top"),(o=this._elDialog)==null||o.style.removeProperty("minWidth"),this.updateComplete.then(()=>{var s;this.open&&((s=this._elDialog)==null||s.showModal())})):this.updateComplete.then(()=>{N(this,nt,Et).call(this)})}};bt=new WeakSet;Qt=function(){this._elTriggerSlot&&this._elTriggerSlot.assignedElements()[0]&&(this._trigger=this._elTriggerSlot.assignedElements()[0],this._anchor=this._elTriggerSlot.assignedElements()[0])};F=new WeakMap;ct=new WeakMap;V=new WeakMap;Q=new WeakMap;B=new WeakMap;wt=new WeakMap;it=new WeakSet;vt=function(){var t,e;(t=this._trigger)==null||t.addEventListener("keydown",w(this,dt)),(e=this._trigger)==null||e.addEventListener("click",w(this,pt))};xt=new WeakSet;Jt=function(){var e,i;var t;(e=this._trigger)==null||e.removeEventListener("keydown",w(this,dt)),(i=this._trigger)==null||i.removeEventListener("click",w(this,pt)),(t=w(this,F))==null||t.call(this)};_t=new WeakSet;Zt=function(){var t;if(this._trigger){(t=this._trigger)==null||t.setAttribute("aria-expanded",String(this.open));const e=["A","BUTTON","INPUT","TEXTAREA"];this._trigger.nodeName.startsWith("GDS-")||e.includes(this._trigger.nodeName)||(this._trigger.setAttribute("tabindex","0"),this._trigger.setAttribute("role","button"));const n=this._trigger.nodeName.startsWith("GDS-")?"gds-aria-haspopup":"aria-haspopup";this._trigger.getAttribute(n)===null&&this._trigger.setAttribute(n,this.popupRole)}};nt=new WeakSet;Et=function(){if(!this._anchor||!this._elDialog)return;const t=this._anchor,e=this._elDialog;!t||!e||w(this,ct)&&!this.disableMobileStyles||(w(this,F)&&w(this,F).call(this),yt(this,F,$e(t,e,()=>{Object.assign(e.style,{minWidth:this.calcMinWidth(t),maxWidth:this.calcMaxWidth(t),minHeight:this.calcMinHeight(t),maxHeight:this.calcMaxHeight(t)}),ze(t,e,{placement:this.placement,middleware:this.floatingUIMiddleware,strategy:"fixed"}).then(({x:i,y:n})=>Object.assign(e.style,{left:`${i}px`,top:`${n}px`}))})))};dt=new WeakMap;pt=new WeakMap;ot=new WeakMap;st=new WeakMap;p.styles=ie(Ke);g([T({type:Boolean,reflect:!0})],p.prototype,"open",2);g([T({attribute:"popup-role"})],p.prototype,"popupRole",2);g([T({attribute:!1})],p.prototype,"triggerRef",2);g([T({attribute:!1})],p.prototype,"anchorRef",2);g([T()],p.prototype,"label",2);g([T()],p.prototype,"placement",2);g([T()],p.prototype,"disableMobileStyles",2);g([T({attribute:!1})],p.prototype,"calcMinWidth",2);g([T({attribute:!1})],p.prototype,"calcMaxWidth",2);g([T({attribute:!1})],p.prototype,"calcMinHeight",2);g([T({attribute:!1})],p.prototype,"calcMaxHeight",2);g([T({type:Boolean})],p.prototype,"nonmodal",2);g([T()],p.prototype,"backdrop",2);g([T({attribute:!1})],p.prototype,"floatingUIMiddleware",2);g([Ct()],p.prototype,"_trigger",2);g([Ct()],p.prototype,"_anchor",2);g([Ct()],p.prototype,"_isVirtKbVisible",2);g([Tt("slot:not([name])")],p.prototype,"_elDefaultSlot",2);g([Tt('slot[name="trigger"]')],p.prototype,"_elTriggerSlot",2);g([Tt("dialog")],p.prototype,"_elDialog",2);g([Y("triggerRef")],p.prototype,"_handleTriggerRefChanged",1);g([Y("anchorRef")],p.prototype,"_handleAnchorRefChanged",1);g([Y("_trigger")],p.prototype,"_handleTriggerChanged",1);g([Y("_anchor")],p.prototype,"_handleAnchorChanged",1);g([Y("open")],p.prototype,"_handleOpenChange",1);g([Y("backdrop")],p.prototype,"_handleBackdropChange",1);g([ce("(max-width: 576px)")],p.prototype,"_handleMobileLayout",1);p=g([oe("gds-popover")],p);
